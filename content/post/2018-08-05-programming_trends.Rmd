---
title: "Programing trends"
author: "David Mas"
date: "9 de agosto de 2018"
output: html_document
---

Inspired by this [tweet]() I wanted to check the evolution of python compared to other very popular Languages in computer science. R is not so popular though...

I chose, a bit based on my gut feeling 5 Languages.

* C++
* Java
* Javascript
* Perl
* Python

I obtained the trend data from [Google Trends](https://trends.google.com/trends/?geo=US) with this specific [query](https://trends.google.com/trends/explore?date=all&q=%2Fm%2F05z1_,%2Fm%2F05zrn,%2Fm%2F0jgqg,%2Fm%2F07sbkfb,%2Fm%2F02p97). 

```{r message=FALSE}
library(magrittr)
library(ggplot2)
library(extrafont)

loadfonts(device = "win",quiet = TRUE)
```


After saving the data we import it into R and transform the Month column to Date format. 

```{r message=FALSE}
test = readr::read_csv("data/multiTimeline.csv",skip = 2)
test$date = glue::glue("{test$Month}-01") %>% lubridate::ymd()
```

Then we plot the relative proportion of google searches at every time point, you can see that Perl is decreasing rapigly and Python is catching java in the most popular language. 

```{r fig.width=12, message=FALSE, warning=FALSE}
p0 = test %>% 
  tidyr::gather(key = "Language",value = "norm_popularity", -Month, -date) %>%
  ggplot(aes(x =date,y = norm_popularity, fill = Language)) + 
  geom_bar(position = "fill",stat = "identity",width = 31) +
  theme_minimal() + 
  theme(panel.grid = element_blank(),
        plot.background = element_rect(fill = "gray20"),
        text = element_text(color = "gray90",family = "Montserrat SemiBold"),
        axis.text = element_text(color = "gray90",family = "Lato")) +
  scale_fill_brewer(palette = "Set3") + 
  scale_y_continuous(labels = scales::percent) + 
  labs(x = "Year",y = "Google search term popularity") 


print(p0)


```


```{r include=FALSE}

cowplot::ggsave(filename = "plot_prg_trends.png",
                device = "png",
                units = "in",
                plot = p0,
                width = 15,
                height = 7)
```

Tricks used in this plot. (for sure there are better ways to...)

* See the `width=31` because the date format works with days and we have monthly timepoints, to make the with of the bar full I had to put the maximum number of days a month has. This is not ideal but it works.


Finally I submited this to `r/dataisbeautiful` [here]().
